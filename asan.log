./ntlm_smb_lm_auth localhost/localhost
YR
AddressSanitizer:DEADLYSIGNAL
=================================================================
==138754==ERROR: AddressSanitizer: SEGV on unknown address 0x00004e7ffff1 (pc 0x7f33cb739b46 bp 0x00004e800001 sp 0x7ffe63b342c0 T0)
==138754==The signal is caused by a WRITE memory access.
    #0 0x7f33cb739b46 in bool __sanitizer::atomic_compare_exchange_strong<__sanitizer::atomic_uint8_t>(__sanitizer::atomic_uint8_t volatile*, __sanitizer::atomic_uint8_t::Type*, __sanitizer::atomic_uint8_t::Type, __sanitizer::memory_order) ../../../../src/libsanitizer/sanitizer_common/sanitizer_atomic_clang.h:80
    #1 0x7f33cb739b46 in __asan::Allocator::AtomicallySetQuarantineFlagIfAllocated(__asan::AsanChunk*, void*, __sanitizer::BufferedStackTrace*) ../../../../src/libsanitizer/asan/asan_allocator.cpp:621
    #2 0x7f33cb739b46 in __asan::Allocator::Deallocate(void*, unsigned long, unsigned long, __sanitizer::BufferedStackTrace*, __asan::AllocType) ../../../../src/libsanitizer/asan/asan_allocator.cpp:697
    #3 0x7f33cb739b46 in __asan::asan_free(void*, __sanitizer::BufferedStackTrace*, __asan::AllocType) ../../../../src/libsanitizer/asan/asan_allocator.cpp:971
    #4 0x7f33cb7c54d4 in __interceptor_free ../../../../src/libsanitizer/asan/asan_malloc_linux.cpp:128
    #5 0x56229eb67efc in RFCNB_Free_Pkt /squid-5.6/lib/rfcnb/rfcnb-util.c:243
    #6 0x56229eb6555c in SMB_Negotiate /squid-5.6/lib/smblib/smblib-util.c:332
    #7 0x56229eb5ef35 in init_challenge /squid-5.6/src/auth/ntlm/SMB_LM/ntlm_smb_lm_auth.cc:154
    #8 0x56229eb5f3a6 in make_challenge(char*, char*) /squid-5.6/src/auth/ntlm/SMB_LM/ntlm_smb_lm_auth.cc:182
    #9 0x56229eb61c5b in obtain_challenge() /squid-5.6/src/auth/ntlm/SMB_LM/ntlm_smb_lm_auth.cc:478
    #10 0x56229eb643c6 in manage_request() /squid-5.6/src/auth/ntlm/SMB_LM/ntlm_smb_lm_auth.cc:650
    #11 0x56229eb64ad6 in main /squid-5.6/src/auth/ntlm/SMB_LM/ntlm_smb_lm_auth.cc:693
    #12 0x7f33cb143d8f in __libc_start_call_main ../sysdeps/nptl/libc_start_call_main.h:58
    #13 0x7f33cb143e3f in __libc_start_main_impl ../csu/libc-start.c:392
    #14 0x56229eb5eb44 in _start (/squid-5.6/src/auth/ntlm/SMB_LM/ntlm_smb_lm_auth+0x6b44)

AddressSanitizer can not provide additional info.
SUMMARY: AddressSanitizer: SEGV ../../../../src/libsanitizer/sanitizer_common/sanitizer_atomic_clang.h:80 in bool __sanitizer::atomic_compare_exchange_strong<__sanitizer::atomic_uint8_t>(__sanitizer::atomic_uint8_t volatile*, __sanitizer::atomic_uint8_t::Type*, __sanitizer::atomic_uint8_t::Type, __sanitizer::memory_order)
==138754==ABORTING

